import { PackageManagerTabs } from "@theme";
import { AvatarImage } from "../../../../theme/components/avatar-image";

<AvatarImage icon="extension" />

# Preview Command

> **Warning**: This feature is a work in progress and may be incomplete or subject to change. If you see an error or something that could be improved, please make a pull-request. The link that documents this feature can be found at the bottom of the page.

**The `preview` command allows you to run your extension in a production-like environment without making a final build.** It simulates how the extension will behave in a production browser environment. This is helpful for testing before officially deploying or building the extension.

## How it Works?

The `preview` command allows you to run your extension in a production-like environment without making a final build. It simulates how the extension will behave in a production browser environment. This is helpful for testing before officially deploying or building the extension.

## Usage

<PackageManagerTabs
  command={{
    npm: "npx extension@latest preview [extension-path | extension-url] [options]",
    pnpm: "pnpx extension@latest preview [extension-path | extension-url] [options]",
    yarn: "yarn dlx extension@latest preview [extension-path | extension-url] [options]",
  }}
/>

## Arguments And Flags

| Flag          | Argument                                       | What it does                                                                                                                                          | Defaults to     |
| ------------- | ---------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- |
| [path or url] | The extension path or the remote extension URL | If a path is defined, previews the local extension. If a URL is provided, pulls the extension from remote source and previews it as a local extension | `process.cwd()` |
| -b, --browser | The browser that will run the extension        | Specifies the browser (`chrome`, `edge`, `all`)                                                                                                       | `"chrome"`      |

## Example Preview Command

To preview your extension for Edge, run the following command:

<PackageManagerTabs
  command={{
    npm: "npx extension@latest preview my-extension --browser=edge",
    pnpm: "pnpx extension@latest preview my-extension --browser=edge",
    yarn: "yarn dlx extension@latest preview my-extension --browser=edge",
  }}
/>

## Examples

### Previewing a Local Extension

![Demo Video](https://placehold.co/600x400)

<PackageManagerTabs
  command={{
    npm: "npx extension@latest preview ./my-extension",
    pnpm: "pnpx extension@latest preview ./my-extension",
    yarn: "yarn dlx extension@latest preview ./my-extension",
  }}
/>

### Previewing a Remote Extension

![Demo Video](https://placehold.co/600x400)

<PackageManagerTabs
  command={{
    npm: "npx extension@latest preview https://url-to-your-extension",
    pnpm: "pnpx extension@latest preview https://url-to-your-extension",
    yarn: "yarn dlx extension@latest preview https://url-to-your-extension",
  }}
/>

### Previewing in Edge and Chrome

![Demo Video](https://placehold.co/600x400)

<PackageManagerTabs
  command={{
    npm: "npx extension@latest preview ./my-extension --browser=edge,chrome",
    pnpm: "pnpx extension@latest preview ./my-extension --browser=edge,chrome",
    yarn: "yarn dlx extension@latest preview ./my-extension --browser=edge,chrome",
  }}
/>

## Best Practices

- **Test Before Building:** Always use `preview` to test how your extension will behave in production before using the `build` command for the final package.
- **Cross-Browser Testing:** Use the `--browser` flag to test your extension in different browsers.

## Next Steps

- After previewing, consider [Building Your Extension](./build.mdx) for the final production package.
